
<!doctype html>
<html lang="pt-BR">
    <head>
        
            <meta charset="utf-8">
            <meta name="robots" content="noindex">
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
            <meta name="author" content="Jefferson" />
            <meta name="date" content="2024-04-28" />
        

        <title>Jupyter Notebook notes | Física</title>

        
    
    
            <link rel="stylesheet" href="../../static/styles.css?build_time=1714353591.197631">
            
            
        
    <link rel="stylesheet" id="customiseCodeCSS" href="../../static/pygmentize.css?build_time=1714353591.197631">

    <link rel="stylesheet" href="../../static/print.css?build_time=1714353591.197631">


        
    
			<script>
				var chirun_static_url = new URL('../../static?build_time=1714353591.197631', location.href);
			</script>

            
                <script defer src="../../static/mathjax_config.js?build_time=1714353591.197631"></script>
                <script type="text/javascript" id="MathJax-script" defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
            

            <script type="module" src="../../static/localisation.js?build_time=1714353591.197631"></script>

            <script defer src="../../static/customisation.js?build_time=1714353591.197631"></script>

            

            
        
    <script defer src="../../static/code.js?build_time=1714353591.197631" type="module"></script>
    <script defer src="../../static/embed_numbas.js?build_time=1714353591.197631" type="module"></script>
    <script defer src="../../static/embed_qrcode.js?build_time=1714353591.197631" type="module"></script>


        <template id="runnable-code-template">
            <link rel="stylesheet" href="../../static/code.css?build_time=1714353591.197631">
            <div class="runnable-code-wrapper">
                <section class="fullscreenable code">
                    <div id="code"></div>
                    <button class="fullscreen icon-button" title="Código em tela cheia"><svg class="icon" alt="Fullscreen code" viewBox="0 0 180 180">
    <use href="#fullscreen"/>
</svg></button>
                </section>
                <section class="fullscreenable output">
                    <div id="output" aria-live="polite">
                        <pre class="stdout"></pre>
                        <pre class="result"></pre>
                        <div class="images"></div>
                    </div>
                    <button class="fullscreen icon-button" title="Saída em tela cheia"><svg class="icon" alt="Fullscreen output" viewBox="0 0 180 180">
    <use href="#fullscreen"/>
</svg></button>
                </section>
                <div class="buttons">
                    <button type="button" class="run-code">Rodar código</button>
                </div>
                <svg
   width="180"
   height="180"
   viewBox="0 0 180 180"
   version="1.1"
   id="icon-defs"
   xml:space="preserve"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"
>
    <defs>
        <g id="cog">
            <path 
                style="fill:currentColor;fill-opacity:1;stroke:none;stroke-width:2.91107"
                d="m 97.752501,14.130132 -9.381402,13.321575 -0.875593,3.780985 0.153413,10.126218 -15.231962,2.683646 -3.320429,-9.569021 -2.115099,-3.246528 -13.372747,-9.313164 -6.817124,3.940185 1.375919,16.23265 1.756892,3.456901 6.623829,7.658625 -9.938582,11.848983 -8.693428,-5.196724 -3.712755,-1.125768 -16.226967,1.461225 -2.695014,7.397083 11.490766,11.553325 3.570636,1.518082 10.001112,1.609049 v 15.465082 l -10.001112,1.609049 -3.570636,1.51808 -11.490766,11.55333 2.695014,7.39707 16.226967,1.46124 3.712755,-1.12577 8.693428,-5.19673 9.938582,11.849 -6.623829,7.6586 -1.756892,3.4569 -1.375919,16.23267 6.817124,3.94017 13.372747,-9.31317 2.115099,-3.24651 3.320429,-9.56902 15.231962,2.68363 -0.153413,10.12623 0.875593,3.78099 9.381402,13.32157 7.749599,-1.37024 4.25858,-15.72665 -0.46624,-3.84919 -3.60472,-9.46099 13.3898,-7.73254 6.39641,7.85192 3.09872,2.33113 15.74934,4.17332 5.06027,-6.02683 -6.84557,-14.78849 -2.83716,-2.64385 -8.84125,-4.93518 5.28767,-14.532632 9.94426,1.910392 3.8777,-0.21038 14.74863,-6.925177 v -7.868995 l -14.74863,-6.925174 -3.8777,-0.210383 -9.94426,1.910392 -5.28767,-14.532629 8.84125,-4.935179 2.83716,-2.643849 6.84557,-14.788484 -5.06027,-6.026831 -15.74934,4.173298 -3.09872,2.331133 -6.39641,7.851938 -13.3898,-7.73254 3.60472,-9.460991 0.46624,-3.849211 -4.25858,-15.726624 z M 88.371099,75.44463 A 14.55537,14.55537 0 0 1 102.92647,90 14.55537,14.55537 0 0 1 88.371099,104.55537 14.55537,14.55537 0 0 1 73.815728,90 14.55537,14.55537 0 0 1 88.371099,75.44463 Z"
            />
        </g>
        <g id="pdf">
            <path
                style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:currentColor;stroke-width:5.73751;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
                d="m 115.96038,9.1011226 31.41471,31.7977544 m 0,11.232914 V 159.42386 c 0,6.35716 -5.11786,11.47502 -11.47502,11.47502 H 44.099928 c -6.35716,0 -11.475018,-5.11786 -11.475018,-11.47502 V 20.576141 c 0,-6.35716 5.117858,-11.4750184 11.475018,-11.4750184 h 71.860452 l -0.14159,20.0812814 c -0.0449,6.357008 5.11832,11.398586 11.47503,11.475018 l 20.08127,0.241455"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:4.74634;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="M 56.949794,109.50753 C 70.723931,123.86069 104.41318,45.431956 83.05466,47.805125 61.696136,50.178294 111.53269,116.62705 123.39853,100.01485 135.26439,83.402664 43.175657,95.15437 56.949794,109.50753 Z"
            />
        </g>
        <g id="slides">
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:round;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="m 90,21.25 30,137.5"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:round;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="M 90,21.25 60,158.75"
            />
            <rect
                style="fill:#ffffff;fill-opacity:1;stroke:currentColor;stroke-width:10.4525;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke markers fill"
                width="119.79137"
                height="82.273766"
                x="30.104315"
                y="36.476234"
                ry="4.7737675"
                rx="4.7737675"
            />
            <rect
                style="fill:currentColor;fill-opacity:1;stroke:currentColor;stroke-width:5.90268;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke markers fill"
                width="140"
                height="5.2262344"
                x="20"
                y="31.25"
                ry="1.6724058"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="m 90,66.25 h 50"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="m 90,76.25 h 50"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="m 90,86.25 h 50"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="m 90,56.25 h 50"
            />
            <path
                style="fill:currentColor;fill-opacity:1;stroke:currentColor;stroke-width:5;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke markers fill"
                d="M 80.000002,78.84906 A 20.099062,20.099062 0 0 1 67.592518,97.418172 20.099062,20.099062 0 0 1 45.688757,93.061243 20.099062,20.099062 0 0 1 41.331828,71.157482 20.099062,20.099062 0 0 1 59.90094,58.749998 V 78.84906 Z"
            />
        </g>

        <g id="notebook">
            <path
                style="fill:#ffffff;stroke:currentColor;stroke-width:4.964;stroke-linecap:butt;stroke-linejoin:round;paint-order:stroke fill markers;stroke-dasharray:none"
                d="M 34.482063,31.89923 V 16.261703 c 0,-5.41792 4.36172,-9.7796397 9.77964,-9.7796397 H 135.7383 c 5.41792,0 9.77964,4.3617197 9.77964,9.7796397 V 163.7383 c 0,5.41792 -4.36172,9.77964 -9.77964,9.77964 H 44.261703 c -5.41792,0 -9.77964,-4.36172 -9.77964,-9.77964 v -23.96224"
            />
            <circle
               style="fill:currentColor;stroke-width:9.43913;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
               cx="58.699139"
               cy="59.503937"
               r="3.8077738"
            />
            <circle
               style="fill:currentColor;stroke-width:9.43913;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
               cx="113.59385"
               cy="52.885151"
               r="4.9348516"
            />
            <path
               style="fill:currentColor;stroke-width:9.43913;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
               d="M 88.900432,54.782256 C 74.053011,55.067917 59.927013,65.025096 57.261258,76.89961 69.209289,67.830932 79.817786,64.804678 88.900432,64.855157 97.983077,64.804678 108.59157,67.830932 120.53961,76.89961 117.87385,65.025096 103.74785,55.067917 88.900432,54.782256 Z"
           
            />
            <path
               style="fill:currentColor;stroke-width:9.43913;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
               d="M 88.900432,121.58085 C 74.053011,121.29519 59.927013,111.33801 57.261258,99.46349 c 11.948031,9.06868 22.556528,12.09494 31.639174,12.04445 9.082643,0.0505 19.691138,-2.97577 31.639178,-12.04445 -2.66576,11.87452 -16.79176,21.8317 -31.639178,22.11736 z"
              
            />
            <ellipse
               style="fill:currentColor;stroke-width:9.43913;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
               cx="63.813011"
               cy="125.96338"
               rx="6.4332962"
               ry="6.4347191"
            />
            <path
                style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
                d="m 28,40 c 2.806997,-4.320074 9.452509,-3.66881 12,0"
            />
            <path
                style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:butt;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
                d="M 34,46.266514 V 62.316215"
            
            />
            <path
             style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
             d="m 28,71.583335 c 2.806997,-4.320073 9.452509,-3.668809 12,0"
            />
            <path
             style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:butt;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
             d="M 34,77.849849 V 93.89955"
            />
            <path
             style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
             d="m 28,103.16667 c 2.806997,-4.320071 9.452509,-3.668807 12,0"
            />
            <path
             style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:butt;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
             d="m 34,109.43318 v 16.0497"
            />
            <path
             style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
             d="m 28,134.75 c 2.806997,-4.32007 9.452509,-3.66881 12,0"
            />
        </g>

        <g id="fullscreen">
            <path
               style="fill:none;stroke:currentColor;stroke-width:10;stroke-dasharray:none;paint-order:stroke markers fill"
               d="M 19.402776,9.9953678 H 160.51388 c 5.2117,0 9.40741,4.1957032 9.40741,9.4074042 V 160.51388 c 0,5.2117 -4.19571,9.40741 -9.40741,9.40741 H 19.402776 c -5.211704,0 -9.4074082,-4.19571 -9.4074082,-9.40741 V 19.402772 c 0,-5.211701 4.1957042,-9.4074042 9.4074082,-9.4074042 z" />
            />
            <path
               style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
               d="M 150.95833,68.801471 V 28.958332 h -39.84314"
            />
            <path
               style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
               d="m 28.958332,111.11519 v 39.84314 h 39.843139"
            />
        </g>
    </defs>
</svg>
            </div>
        </template>

        <template id="embed-numbas-template">
            <link rel="stylesheet" href="../../static/embed_numbas.css?build_time=1714353591.197631">
            <details id="wrapper" data-completion-status="incomplete">
                <summary>
                    <h1 id="title">Teste</h1>
                    <div id="completion-status" data-completion-status="unknown">
                        <span class="complete">Completo</span>
                        <span class="incomplete">Incompleto</span>
                    </div>
                    <label id="score-feedback">
                        Pontuação
                        <progress min="0"></progress>
                    </label>
                </summary>
                <iframe class="embed" title="Numbas"></iframe>
            </details>
        </template>

    </head>
    <body class="" >
        

        <a class="skip-to-content-link" href="#main-content">Ir para o conteúdo</a>
        
            <form id="display-options">
    <div class="buttons">
        <button type="button" id="reset-display-options">Padrão</button>

        <a href="https://chirun.org.uk/accessibility-statement/material">Declaração de acessibilidade</a>

        <button type="button" aria-controls="display-options" aria-expanded="false">
            Fechar
        </button>
    </div>

    <div class="inputs">
        <div class="input-group">
            <label for="display-options-font-scale">
                Tamanho de texto
            </label>
            <input type="range" min="50" max="600" step="5" value="100" id="display-options-font-scale">
            <output for="display-options-font-scale">100%</output>
        </div>

        <div class="input-group">
            <label for="display-options-spacing-factor">
                Espaçamento
            </label>
            <input type="range" min="0" max="1200" step="5" value="100" id="display-options-spacing-factor">
            <output for="display-options-spacing-factor">100%</output>
        </div>

        <div class="input-group">
            <label for="display-options-font-family">
                Tamanho da fonte
            </label>
            <select id="display-options-font-family">
                <option value="var(--sans-serif-font)" selected>Sans-serif</option>
                <option value="var(--serif-font)">Serif</option>
                <option value="Atkinson Hyperlegible">Atkinson Hyperlegible</option>
                <option value="Comic Sans MS">Comic Sans</option>
            </select>
        </div>

        <div class="input-group">
            <label for="display-options-colour-scheme">
                Esquema de cores
            </label>
            <select id="display-options-colour-scheme">
                <option value="auto" selected>Automático</option>
                <option value="light">Texto preto sobre branco</option>
                <option value="dark">Texto branco sobre preto</option>
                <option value="custom">Personalizado</option>
            </select>
        </div>

        <section id="custom-colour-scheme-options" class="inputs">
            <div class="input-group">
                <label for="display-options-text-colour">
                    Cor do texto
                </label>
                <input type="color" value="#000000" id="display-options-text-colour">
            </div>

            <div class="input-group">
                <label for="display-options-link-colour">
                    Cor de link
                </label>
                <input type="color" value="#0000ee" id="display-options-link-colour">
            </div>

            <div class="input-group">
                <label for="display-options-bg-colour">
                    Cor de fundo
                </label>
                <input type="color" value="#ffffff" id="display-options-bg-colour">
            </div>

            <div class="input-group">
                <label for="display-options-bg-colour-off">
                    Cor de fundo silenciada
                </label>
                <input type="color" value="#eeeeee" id="display-options-bg-colour-off">
            </div>

            <div class="input-group">
                <label for="display-options-bg-colour-accent-1">
                    Cor de destaque 1
                </label>
                <input type="color" value="#4caf50" id="display-options-bg-colour-accent-1">
            </div>

            <div class="input-group">
                <label for="display-options-bg-colour-accent-2">
                    Cor de destaque 2
                </label>
                <input type="color" value="#f6f6ff" id="display-options-bg-colour-accent-2">
            </div>

            <div class="input-group">
                <label for="display-options-bg-colour-accent-3">
                    Cor de destaque 3
                </label>
                <input type="color" value="#eeffd3" id="display-options-bg-colour-accent-3">
            </div>

            <div class="input-group">
                <label for="display-options-bg-colour-accent-4">
                    Cor de destaque 4
                </label>
                <input type="color" value="#ffeeee" id="display-options-bg-colour-accent-4">
            </div>
        </section>

        <section id="filter-colour-scheme-options" class="inputs">
            <div class="input-group">
                <label for="display-options-filter-sepia">
                    Filtro sépia
                </label>
                <input type="range" min="0" max="100" step="1" value="0" id="display-options-filter-sepia">
                <output for="display-options-filter-sepia">0%</output>
            </div>

            <div class="input-group">
                <label for="display-options-filter-hue-rotate">
                    Girar matizes
                </label>
                <input type="range" min="0" max="1" step="0.01" value="0" id="display-options-filter-hue-rotate">
                <output for="display-options-filter-hue-rotate">0 turnos</output>
            </div>

            <div class="input-group">
                <label for="display-options-invert-images">
                    Inverter imagens no modo escuro
                </label>
                <input type="checkbox" id="display-options-invert-images">
            </div>

        </section>
    </div>
</form>
        

        <header>
            
<button class="icon-button" type="button" aria-controls="display-options" aria-expanded="false" title="Display options">
    <svg class="icon" alt="Display options" viewBox="0 0 180 180">
    <use href="#cog"/>
</svg>
</button>
            
    
    <nav aria-label="breadcrumb">
        <ul class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="../../index.html">Física</a>
            </li>
            
            <li class="breadcrumb-item">
                <a href="../index.html">Other Content</a>
            </li>
            
            <li class="breadcrumb-item active">
                Jupyter Notebook notes
            </li>
        </ul>

        
        <p class="pager" id="item-pager">
            
            <a rel="prev" href="../figures_and_embeddin/index.html">Anterior: Figures and Embedding</a>
            
            
            <a rel="next" href="../testejup5.html">Próximo: Teste Jupyter</a>
            
        </p>
        
    </nav>
    

            
            
        </header>

        <main id="main-content">
            
    <nav id="sidebar">
        
        <ul class="alternative-formats">
            
            <li><a href="jupyter_notebook_not.pdf"download><svg class="icon" alt="PDF" viewBox="0 0 180 180">
    <use href="#pdf"/>
</svg> Download em PDF</a></li>
            
            <li><a href="jupyter_notebook_not.ipynb"download><svg class="icon" alt="Notebook" viewBox="0 0 180 180">
    <use href="#notebook"/>
</svg> Download em Notebook</a></li>
            
        </ul>
        

        <h1>Table of Contents</h1>
        <a class="jump-to-item-content" href="#item-content">Ir para o conteúdo</a>
        
            <ol class="table-of-contents">
                
                    
    <li>
        <a href="#teste">Teste</a>
        
    </li>

    <li>
        <a href="#variáveis">Variáveis</a>
        
    </li>

    <li>
        <a href="#the_print_function">The print function</a>
        
    </li>

    <li>
        <a href="#logical_operators">Logical operators</a>
        
    </li>

    <li>
        <a href="#control_flow">Control Flow</a>
        
        <ol>
            
            
    <li>
        <a href="#for_loops">For Loops</a>
        
    </li>

    <li>
        <a href="#exercise_3_1">Exercise 3.1</a>
        
    </li>

    <li>
        <a href="#while_loops">While Loops</a>
        
    </li>

    <li>
        <a href="#if_statements">If statements</a>
        
    </li>

    <li>
        <a href="#control_flow_and_arr">Control flow and array elements</a>
        
    </li>

    <li>
        <a href="#for_loops_plot_examp">For loops plot example</a>
        
    </li>

    <li>
        <a href="#exercise_3_2">Exercise 3.2</a>
        
    </li>

            
        </ol>
        
    </li>

    <li>
        <a href="#functions">Functions</a>
        
        <ol>
            
            
    <li>
        <a href="#exercise_3_3">Exercise 3.3</a>
        
    </li>

    <li>
        <a href="#exercise_3_4">Exercise 3.4</a>
        
    </li>

    <li>
        <a href="#interlude_list_compr">Interlude: List comprehension</a>
        
    </li>

            
        </ol>
        
    </li>

    <li>
        <a href="#adding_help_to_your_">Adding help to your function</a>
        
        <ol>
            
            
    <li>
        <a href="#error_messages">Error messages</a>
        
        <ol>
            
            
    <li>
        <a href="#try_and_except">Try and except</a>
        
    </li>

    <li>
        <a href="#custom_exceptions">Custom exceptions</a>
        
    </li>

            
        </ol>
        
    </li>

            
        </ol>
        
    </li>

    <li>
        <a href="#writing_algorithms">Writing algorithms</a>
        
    </li>

    <li>
        <a href="#worked_example_fibon">Worked example: Fibonacci sequence</a>
        
        <ol>
            
            
    <li>
        <a href="#planning">Planning</a>
        
    </li>

    <li>
        <a href="#coding_the_algorithm">Coding the algorithm</a>
        
    </li>

            
        </ol>
        
    </li>

    <li>
        <a href="#worked_example_2_eul">Worked example 2: Euler's Method</a>
        
        <ol>
            
            
    <li>
        <a href="#coding_the_algorit_1">Coding the algorithm</a>
        
    </li>

    <li>
        <a href="#exercise_3_5_harder_">Exercise 3.5 (Harder!)</a>
        
    </li>

            
        </ol>
        
    </li>

    <li>
        <a href="#next_time">Next time</a>
        
    </li>

                
            </ol>
        

    </nav>

    <article class="item-content" id="item-content">
        <section>
<p>Before we get on to the main topics in this week's handout - control flow and functions - there are a couple of topics
to level up in first: using the <code>print()</code> function and a reminder of logical operators.</p>
<h2 id="teste">Teste</h2>
<div class="highlight"><pre><span></span><span class="n">Web</span> <span class="n">VPython</span> <span class="mf">3.1</span>

<span class="n">ball</span> <span class="o">=</span> <span class="n">sphere</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">cyan</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">changecolor</span><span class="p">(</span><span class="n">evt</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">evt</span><span class="o">.</span><span class="n">text</span> <span class="o">==</span> <span class="s1">'red'</span><span class="p">:</span>
                <span class="n">ball</span><span class="o">.</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">red</span>
                <span class="n">clrbtn</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">color</span><span class="o">.</span><span class="n">cyan</span>
                <span class="n">clrbtn</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">'cyan'</span>
        <span class="k">else</span><span class="p">:</span>
                <span class="n">ball</span><span class="o">.</span><span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">cyan</span>
                <span class="n">clrbtn</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">'red'</span>
                <span class="n">clrbtn</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">color</span><span class="o">.</span><span class="n">red</span>

<span class="n">clrbtn</span> <span class="o">=</span> <span class="n">button</span><span class="p">(</span> <span class="n">bind</span><span class="o">=</span><span class="n">changecolor</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">red</span> <span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span>from IPython.display import IFrame, HTML, display, Markdown
link = 'https://glowscript.org/#/user/prof.jefferson.ro/folder/MyPrograms/program/teste06'
display(Markdown("[projeto-1.1](https://glowscript.org/#/user/prof.jefferson.ro/folder/MyPrograms/program/teste06)"))
IFrame(src=link, width=680, height=500)
</pre></div>
<h2 id="variáveis">Variáveis</h2>
<p><strong>Lorem ipsum</strong> dolor sit amet, consectetur adipiscing elit. Nunc luctus bibendum felis dictum sodales.</p>
<div class="highlight"><pre><span></span>print(2+2)
</pre></div>
<h2 id="the_print_function">The print function</h2>
<p>We're going to be using a bit more of the <code>print</code> function today in our scripts, to help us to see what's
happening in our code.</p>
<p>Recall that <code>print()</code> can be used with a value (of any type) inserted directly</p>
<div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Hello"</span><span class="p">)</span>
</pre></div>
<p>It can also print more than one thing at once:</p>
<div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">"Hello"</span><span class="p">,</span> <span class="s2">"World"</span><span class="p">)</span>
</pre></div>
<p>It can be used to print a variable</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
<p>But what if we want the output to be something like this, where the 5 is a variable?</p>
<div class="highlight"><pre><span></span>The value is 5
</pre></div>
<p>this is going to be a string with a variable value injected into it. The way this is done is as follows:</p>
<div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"The value is </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</pre></div>
<p><code>{}</code> is a placeholder for the variable that is specified inside <code>format()</code>. If we need to insert more than one variable
then we can add them, comma-separated, inside <code>format()</code> as follows</p>
<div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">6</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"The values are </span><span class="si">{}</span><span class="s2"> and </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
</pre></div>
<p>The placeholders can be labelled so that a variable can be inserted twice in the same string:</p>
<div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">6</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"The values are </span><span class="si">{0}</span><span class="s2"> and </span><span class="si">{1}</span><span class="s2">. Here's the first one again...</span><span class="si">{0}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
</pre></div>
<p>Things start to get a little complicated if you want to specify the format of the values you are inserting.
Here's an example which prints <script type="math/tex">\pi</script> and <script type="math/tex">e</script> to 2 decimal places:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Some stuff to 2 decimal places... pi = </span><span class="si">{:.2f}</span><span class="s2"> and e = </span><span class="si">{:.2f}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">e</span><span class="p">))</span>
<span class="c1"># or including the labels </span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Some stuff to 2 decimal places... pi = </span><span class="si">{0:.2f}</span><span class="s2"> and e = </span><span class="si">{1:.2f}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">e</span><span class="p">))</span>
</pre></div>
<p>In <code>{0:.2f}</code>, the <code>0</code> is the label (so <code>np.pi</code> is inserted here), the <code>:</code> separates the label from the format
specification, <code>.2</code> is for 2 decimal places and <code>f</code> is for float.</p>
<p>We could spend all day talking about string formatting, and at this stage it will be easier to look up what you
want to do when you get to it; here's a <a href="https://docs.python.org/3.4/library/string.html#string-formatting" target="_blank">guide</a>
for reference later, or if you're just really keen.</p>
<h2 id="logical_operators">Logical operators</h2>
<p>Recall from Handout 1 that we use logical operators to determine whether a statement is true or false</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">==</span> <span class="mi">2</span>
<span class="n">x</span> <span class="o">&gt;</span> <span class="mi">2</span>
</pre></div>
<p>Others which can be used to make up such an expression are as follows:</p>
<table>
<thead>
<tr>
<th><strong>Operator</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>&lt;</td>
<td>Less than</td>
</tr>
<tr>
<td>&gt;</td>
<td>Greater than</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Less than or equal to</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Greater than or equal to</td>
</tr>
<tr>
<td>==</td>
<td>Equal to</td>
</tr>
<tr>
<td>!=</td>
<td>Not equal to</td>
</tr>
<tr>
<td>a and b</td>
<td>is a AND b</td>
</tr>
<tr>
<td>a or b</td>
<td>is a OR b</td>
</tr>
</tbody>
</table>
<p>Here are some more examples</p>
<div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">)</span>            <span class="c1"># True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="ow">or</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">)</span>   <span class="c1"># True</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="ow">and</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">)</span>  <span class="c1"># False</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>        <span class="c1"># False (is the remainder when divided by 2 zero - in other words is a even)</span>
</pre></div>
<p>These will form an important part of the next section on control flow.</p>
<h2 id="control_flow">Control Flow</h2>
<p>This section introduces loops and if statements, part of a family of tools used by programmers and referred to
generally as control flow.</p>
<h3 id="for_loops">For Loops</h3>
<p>A 'for loop' is used when we would like to repeat a piece of code many times, usually incrementing a value so that
something slightly different happens at each iteration. </p>
<p>The basic construction of a for loop is as follows:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="c1"># do something with n</span>
</pre></div>
<p>Notice the syntax, importantly the colon at the end of the <code>for</code> line, and the indentation. It doesn't really matter
what the indentation is, a tab or some spaces - a Python enthusiast will tell you that 4 spaces is best - the important
thing is that you are consistent!</p>
<p>Go on try it without...</p>
<p><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
<span class="c1"># do something with n</span>
</pre></div>
Yep, you get an error!</p>
<p>The comment labelled "do something with n" indicates exactly that, usually you would do something with the
current value of <script type="math/tex">n</script>. The loop, in this case, runs 5 times, the first time <script type="math/tex">n=1</script>, then <script type="math/tex">n=2</script> and so on until <script type="math/tex">n=5</script>,
and then it stops. </p>
<p>So here my choice of "doing something" is to print the value of <script type="math/tex">n^2</script>:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
<p>We could get fancy and print some text alongside the value:</p>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"The value squared is </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
<p>The <code>range(1,6)</code> could be any list, so we can do this, for example</p>
<p><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
Or even other data types,</p>
<div class="highlight"><pre><span></span><span class="n">bears</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"koala"</span><span class="p">,</span> <span class="s2">"panda"</span><span class="p">,</span> <span class="s2">"sun"</span><span class="p">]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">bears</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
<p>The loop could do pretty much anything with <code>n</code>. For example here I add the values of n by initialising a variable s,
and then adding n to it at each step of the loop:</p>
<div class="highlight"><pre><span></span><span class="c1"># Intitialise a variable</span>
<span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Loop through adding n each time</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="n">n</span>

<span class="c1"># print final value</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
<p>Notice that the line break and subsequent unindent marks the end of the for loop contents.</p>
<p>The <code>s += n</code> adds <code>n</code> to the current <code>s</code> value and is equivalent to <code>s = s + n</code>. </p>
<p><code>+=</code> is known as an assignment operator, and there are others such as <code>*=</code> e.g. <code>s *= n</code> equivalent to <code>s = s * n</code>.</p>
<h3 class="exercise" id="exercise_3_1">Exercise 3.1</h3>
<p>Practice looping with <code>for</code> in this exercise.</p>
<p><embed-numbas id="exercise-3-1" url="https://numbas.mathcentre.ac.uk/question/106512/python-factorial-for-loop/embed/?token=c0bd949b-3906-4f7f-aa5b-ec6246ed1d2a"></embed-numbas></p>
<h3 id="while_loops">While Loops</h3>
<p>Loops aren't always faster, but can offer a lot of flexibility. For example a <code>while</code> loop can run whilst a certain
condition is satisfied, e.g.</p>
<div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>   <span class="c1"># some value we'll add to</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>   <span class="c1"># this is my counter</span>

<span class="k">while</span> <span class="n">s</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">:</span>
    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>    <span class="c1"># increment the counter</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="n">n</span>    <span class="c1"># add to s  </span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"s is equal to </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
</pre></div>
<p>Here, the <code>s &lt; 1000</code> is a logical expression, it returns either true or false, and so the while loop can be read
"while s &lt; 1000 is true". Note that you might expect the final value of <code>s</code> to be less than 1000. Have a read through
the code logic to convince yourself that it is sensible that its value should be greater than 1000.</p>
<p>Note that it's easy to get stuck in an infinite while loop, if the condition that is set happens to never be satisfied.
If this happens to you then the stop button in the Console, or Ctrl-C will stop your code!</p>
<h3 id="if_statements">If statements</h3>
<p>An <code>if</code> statement ensures that a bit of code is only executed if a condition is met:
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"that is true"</span><span class="p">)</span>
</pre></div>
The <code>print</code> command is only executed "if x &gt;= 2" is true. On the other hand here,</p>
<p><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"that is true"</span><span class="p">)</span>
</pre></div>
the <code>print</code> command in the if statement is not executed.</p>
<p>That isn't the whole story: we can use <code>if</code>...<code>else</code>..., with the command after <code>else</code> acting as a fall back,
for example,</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"x is less than 2"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"x is not less than 2"</span><span class="p">)</span>
</pre></div>
<p>Or, for even more options, <code>if</code>...<code>elif</code>...<code>else</code>...
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"x is less than 2"</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"x is equal to 2"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"x is greater than 2"</span><span class="p">)</span>
</pre></div></p>
<p>Take note again of the indenting. This is particularly important for nested clauses. The following is an alternative
to the <code>while</code> loop above:</p>
<div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>    <span class="c1"># increment the counter</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="n">n</span>    <span class="c1"># calculate the new sum  </span>
    <span class="k">if</span> <span class="n">s</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="k">break</span>

<span class="c1"># Output the results</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
<p>Here the command <code>break</code> ends the for loop when <code>s &gt; 1000</code>. Of course this wasn't as good as our while loop as we had
to guess how many iterations to use (i.e. that 100 was large enough). Notice how we can see which commands go with
the <code>if</code> and <code>for</code> respectively, thanks to the consistent indenting.</p>
<h3 id="control_flow_and_arr">Control flow and array elements</h3>
<p>Recall that we can query a single element of a list or array like this:</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
<p>We can also update the value inside a list:
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div></p>
<p>We could use this inside a for loop. Suppose we try to fill an array t with values. We might expect that we
could do this to update the n-th element of <code>t</code> at each iteration, but not quite. Python is happy over-writing
array values, but isn't happy if they don't yet exist. So this doesn't work:</p>
<p><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="n">t</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
The solution is to either append,</p>
<div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">t</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
<p>or, using NumPy, initialise <code>t</code> as an empty array first using the <code>np.zeros()</code> function</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">t</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
<p>then the code works perfectly. Check with</p>
<div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</pre></div>
<p>Note this is the same as
<div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">n</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
and that this way (using vector arithmetic) is much more efficient; using for loops is not always the best solution.
I take a look at the performance of the above two options in an interlude shortly.</p>
<h3 id="for_loops_plot_examp">For loops plot example</h3>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Array of x values</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># Plot f(x)=xe^(ax) for a from 1 to 5</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">a</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<p>Which produces this plot:</p>
<figure class="figure1" data-title="Five curves plotted on the same axes, each one using a different value of a inside the function."><img alt="Five curves plotted on the same axes, each one using a different value of a inside the function." src="images/lecture_multiplot.png" width="90%"/></figure><p><em><a href="files/lecture_multiplot.py" target="_blank">Download the full source code for this plot</a></em></p>
<h3 class="exercise" id="exercise_3_2">Exercise 3.2</h3>
<p>Use the above as a template to help you tackle the following exercise:</p>
<p><embed-numbas id="exercise-3-2" url="https://numbas.mathcentre.ac.uk/question/106518/mordell-curves/embed/?token=7a66dea9-5a8e-4d45-b618-e1e51ed6391a"></embed-numbas></p>
<h2 id="functions">Functions</h2>
<p>Python makes it possible to write your own functions, which take some input and return a value or values, in just the
same way as Python's built-in functions. This helps to keep your Python code as modular as possible.</p>
<p>The syntax for creating a function is as follows:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_func</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"My function prints this"</span><span class="p">)</span>
</pre></div>
<p>Note a similar syntax as for control flow: the function begins with the keyword <code>def</code> and then the function name
"my_func". This is followed by input arguments inside brackets - for this function there are none, and finally a colon.
The contents of the function are then indented. </p>
<p>We can call the function with</p>
<div class="highlight"><pre><span></span><span class="n">my_func</span><span class="p">()</span>
</pre></div>
<p>either from the same file or the Console.</p>
<p>Now let's add an input argument to our function and a more descriptive name:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">zoo_visit</span><span class="p">(</span><span class="n">animal</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"I went to the zoo and saw a </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">animal</span><span class="p">))</span>

<span class="n">zoo_visit</span><span class="p">(</span><span class="s2">"koala"</span><span class="p">)</span>
<span class="n">zoo_visit</span><span class="p">(</span><span class="s2">"panda"</span><span class="p">)</span>
<span class="n">zoo_visit</span><span class="p">(</span><span class="s2">"sun bear"</span><span class="p">)</span>
</pre></div>
<p>We can also set a default value by using argument = ... in the parentheses. This default is used if the input
argument is not set.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">zoo_visit</span><span class="p">(</span><span class="n">animal</span><span class="o">=</span><span class="s2">"bear"</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"I went to the zoo and saw a </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">animal</span><span class="p">))</span>

<span class="n">zoo_visit</span><span class="p">(</span><span class="s2">"koala"</span><span class="p">)</span>
<span class="n">zoo_visit</span><span class="p">(</span><span class="s2">"panda"</span><span class="p">)</span>
<span class="n">zoo_visit</span><span class="p">(</span><span class="s2">"sun bear"</span><span class="p">)</span>
<span class="n">zoo_visit</span><span class="p">()</span>
</pre></div>
<p>Any data type can be sent to a function. Here's a list, with a for loop to print each value - pay careful attention
to the indenting:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_my_list</span><span class="p">(</span><span class="nb">list</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="n">print_my_list</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
</pre></div>
<p>And a simple one with a number</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">square_a_number</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="n">square_a_number</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
<p>All of the above examples print something. The functions we have been using however return a value which can be
assigned to a variable. For example at the moment this does not do what we might like</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">square_a_number</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
<p>To return a value (or values) from a function we need to use a <code>return</code> statement. This is done as follows:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">square_a_number</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">square_a_number</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
<p>Note that the <code>x</code> in the function argument and the <code>x</code> outside the function are completely unrelated.
This is known as the scope of a variable.</p>
<p>Now let's extend this by accepting two input arguments:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">show_me_the_bigger</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">max</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">])</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">show_me_the_bigger</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
<h3 class="exercise" id="exercise_3_3">Exercise 3.3</h3>
<p>Some function practice.</p>
<p><embed-numbas id="exercise-3-3" url="https://numbas.mathcentre.ac.uk/question/106519/cube-and-add/embed/?token=b9fffaf1-d4ba-4ebd-a81b-6684392575dc"></embed-numbas></p>
<h3 class="exercise" id="exercise_3_4">Exercise 3.4</h3>
<p>In this exercise we'll bring the work we did in exercise 3.1 into a function.</p>
<p><embed-numbas id="exercise-3-4" url="https://numbas.mathcentre.ac.uk/question/106521/python-factorial-function/embed/?token=48c8aa16-a1a5-452b-961f-1d8431b5c34b"></embed-numbas></p>
<h3 class="interlude" id="interlude_list_compr">Interlude: List comprehension</h3>
<p>Here is a neat trick! It can be used when you have a function that returns a value, and you'd like to make a list using the output of that
function for various inputs. For example, let's say you have some function:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">calculate_something</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">a</span> <span class="o">+</span> <span class="mi">7</span><span class="p">)</span><span class="o">/</span><span class="mf">2.5</span><span class="p">)</span><span class="o">**</span><span class="mi">6</span>
</pre></div>
<p>and a list of values you want to calculate that function for:</p>
<div class="highlight"><pre><span></span><span class="n">a_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="mf">5.12</span><span class="p">]</span>
</pre></div>
<p>You can get the result of running the function on each element in the list by performing what's called a "list comprehension":</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">calculate_something</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
<p>Of course, if you're using numpy functions, this is often not required because they can act on lists already (e.g. <code>np.sin([0.1,0.2,0.3])</code>).
Still, list comprehension can be useful!</p>
<h2 id="adding_help_to_your_">Adding help to your function</h2>
<p>A comment contained within three quotes <code>"""</code> at the start of our custom function is used to display help.
It is known as a <em>docstring</em> (documentation string)</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">def</span> <span class="nf">sin_plus_cos</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">"""</span>
<span class="sd">    Takes in a value x and </span>
<span class="sd">    returns cos(x)+sin(x)</span>
<span class="sd">    """</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
<p>Test your help with</p>
<div class="highlight"><pre><span></span>help(sin_plus_cos)
</pre></div>
<h3 id="error_messages">Error messages</h3>
<p>Consider the following function (which is a bit silly!)</p>
<div class="highlight"><pre><span></span><span class="k">def</span>  <span class="nf">inverse</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span>    

<span class="n">inverse</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
<p>We will get an error when we try the following:</p>
<p><div class="highlight"><pre><span></span><span class="n">inverse</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
<pre class="output-block"><code>Traceback (most recent call last):

  File "&lt;ipython-input-72-1bc64584a5ff&gt;", line 1, in &lt;module&gt;
    runfile('/Users/georgestagg/python/tests/untitled0.py', wdir='/Users/georgestagg/python/tests')

  File "/Users/georgestagg/anaconda3/lib/python3.7/site-packages/spyder_kernels/customize/spydercustomize.py", line 786, in runfile
    execfile(filename, namespace)

  File "/Users/georgestagg/anaconda3/lib/python3.7/site-packages/spyder_kernels/customize/spydercustomize.py", line 110, in execfile
    exec(compile(f.read(), filename, 'exec'), namespace)

  File "/Users/georgestagg/python/tests/untitled0.py", line 6, in &lt;module&gt;
    fraction(1,0)

  File "/Users/georgestagg/python/tests/untitled0.py", line 3, in fraction
    print("as a decimal: {}".format(numerator/denominator))

ZeroDivisionError: division by zero</code></pre></p>
<p>Not very easy to read, you have to go right to the bottom to see where the problem is!</p>
<h4 id="try_and_except">Try and except</h4>
<p>The try and except block is used to catch and handle exceptions. Python executes code following the try statement,
and if there is an exception then the code that follows the except statement is executed.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">inverse</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="k">try</span><span class="p">:</span>
    <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span>
  <span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Something went wrong"</span><span class="p">)</span>

<span class="n">inverse</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">inverse</span><span class="p">(</span><span class="s2">"2"</span><span class="p">)</span>
</pre></div>
<p>This gives quite a generic error message, which does not depend on which of the two problems
(zero division or string input) that we have. </p>
<p>We can be more precise with error handling by using the exception classes provided by Python. In the long code output
above you will have noticed that the error was classified as a <code>ZeroDivisionError</code>. There are others including
<code>TypeError</code> which will be the problem when we use <code>fraction(1,"2")</code> as input. For a full list
<a href="https://docs.python.org/3/library/exceptions.html" target="_blank">see the Python documentation</a>. </p>
<p>We can catch these specific errors and send more specific info back as follows:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">inverse</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="k">try</span><span class="p">:</span>
    <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span>
  <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Error: please enter a non-zero value"</span><span class="p">)</span>
  <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Error: input argument should be a float or integer"</span><span class="p">)</span>

<span class="n">inverse</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">inverse</span><span class="p">(</span><span class="s2">"2"</span><span class="p">)</span>
<span class="n">inverse</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
<h4 id="custom_exceptions">Custom exceptions</h4>
<p>One more thing we might want to do with this function is reject decimal input values. We can do this by proactively
"raising" an exception by querying the input. The syntax goes like this:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">inverse</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s2">"Please enter a non-zero denominator"</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">1</span><span class="o">/</span><span class="n">x</span>

<span class="n">inverse</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
<p>When we raise an error like this we get the full traceback, like the example at the start of this section.</p>
<h2 id="writing_algorithms">Writing algorithms</h2>
<p>When does a piece of code become an algorithm? For us we're pretty much there already at that point.</p>
<p>An algorithm is a set of step-by-step instructions, in our case carried out by our Python code, to solve a problem. </p>
<p>As an analogy, in the problem of baking a cake, a recipe book lays out the step-by-step instructions to achieve the
tasty goal. The detail is such that, if the instructions are followed precisely, a second cake produced using the same
recipe will be identical. </p>
<p>Our goal in the next two worked examples will be to identify what the steps are to solving problems presented to us,
and then how to code them in Python.</p>
<p>Here are two worked examples:</p>
<h2 id="worked_example_fibon">Worked example: Fibonacci sequence</h2>
<p>In the Fibonacci sequence, each number is the sum of the two preceding ones:</p>
<script type="math/tex; mode=display"> F_{n}=F_{n-1}+F_{n-2}</script>
<p>where typically the seed values <script type="math/tex">F_{0}=0,F_{1}=1</script> are used.</p>
<p>Our task is to write an algorithm that puts (say the first 15) values of the sequence into a vector.</p>
<h3 id="planning">Planning</h3>
<p>It's useful to plan out what we want to do in advance. In this case I note the following:</p>
<ul>
<li>I will need a vector <code>F</code> which I can initialise with <code>zeros</code>, ready to fill with 15 values</li>
<li>The first two values are given, so I can set <code>F[0]</code> and <code>F[1]</code> straight away (<script type="math/tex">F_0</script> is going to be stored in <code>F[0]</code>, <script type="math/tex">F_1</script> in <code>F[1]</code> and so on).</li>
<li>For each value from <script type="math/tex">n = 2</script> and upwards, <code>F[n]</code> is going to depend on the values of <code>F[n-1]</code> and <code>F[n-2]</code>. As this will get repetitive, it will be ideal for a <code>for</code> or <code>while</code> loop!</li>
</ul>
<h3 id="coding_the_algorithm">Coding the algorithm</h3>
<p>Now that I've done a bit of planning, I am in a position to put this into Python:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Set up an empty vector F for Fibonacci values</span>
<span class="n">F</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>

<span class="c1"># Set the seed values</span>
<span class="n">F</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">F</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c1"># loop through from n = 2 upwards to get other values</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">15</span><span class="p">):</span>
   <span class="n">F</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">F</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">F</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

<span class="c1"># Take a look at the output</span>
<span class="nb">print</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
</pre></div>
<p>Try increasing the number of Fibonacci values calculated. Note that they grow very fast! If you like, you could make a
plot showing how quickly they grow by plotting <code>F</code> with matplotlib.</p>
<h2 id="worked_example_2_eul">Worked example 2: Euler's Method</h2>
<p>Spoiler alert: Later in your degree you will be confronted with all sorts of problems involving differential equations,
as many physical behaviours can be easily described with them. A differential equation is simply an equation which
relates some function(s) to its derivatives, for example</p>
<script type="math/tex; mode=display"> \frac{\mathrm{d}y}{\mathrm{d}t}=-\frac{y}{2}. </script>
<p>This sort of differential equation (involving the derivative of a function which depends on just one variable) is
known as an <strong>ordinary differential equation (ODE)</strong> and is usually associated with some sort of initial condition,
for example the value at <script type="math/tex">y(0)</script>, in which case it is known as an <strong>initial value problem</strong>.</p>
<p>To name but a few differential equations: Newton's second law, Maxwell's equations of electromagnetism,
radioactive decay, Newton's law of cooling... some of these you will have already met in some form... others you will
meet: the heat equation (thermodynamics), the Schrödinger equation (quantum mechanics), Navier-Stokes (fluid dynamics),
and many more... </p>
<p>It is interesting for us to look at solving differential equations for several reasons. One, that it is clearly going
to be useful to your later study. But secondly, the oldest algorithm to compute a numerical solution to straight forward
problems of this sort is <strong>Euler’s method</strong>, which involves little more than a <code>for</code> loop.</p>
<p>Suppose that we know the value of <script type="math/tex">y(t_0)</script> = <script type="math/tex">y_0</script> and we want to find <script type="math/tex">y(t_1)</script> = <script type="math/tex">y_1</script> for some equation in the form</p>
<script type="math/tex; mode=display"> \frac{\mathrm{d}y}{\mathrm{d}t}=f(t,y). </script>
<p>If <script type="math/tex">h = t_1-t_0</script> is very small, then we can reasonably expect that <script type="math/tex">y_1</script> will be close to the tangent line to <script type="math/tex">y(t)</script>
at <script type="math/tex">t_0</script>. The gradient of that tangent line is <script type="math/tex">m = f(t_0,y_0)</script>, the right hand side of the ODE at <script type="math/tex">t_0</script>. So,
from elementary geometry,</p>
<script type="math/tex; mode=display"> y_1-y_0 \approx m(t_1 -t_0) = f(t_0,y_0)(t_1 -t_0) </script>
<p>And since <script type="math/tex">t_1 = h + t_0</script>, we obtain,</p>
<script type="math/tex; mode=display"> y_1 \approx y_0 + f(t_0,y_0)h. </script>
<p>Now we can use the same method to find <script type="math/tex">y_2</script> from <script type="math/tex">y_1</script>, and so on. So the Euler Method approximates the solution using</p>
<script type="math/tex; mode=display"> y_{n} = y_{n-1} + hf(t_{n-1},y_{n-1}). </script>
<p>Here's a visual of how it works:</p>
<figure class="figure2" data-title=""><img alt="" src="images/euler.gif" width="90%"/></figure><p>The accuracy will clearly depend on choosing <script type="math/tex">h</script> carefully. As we can see, as the stepsize <script type="math/tex">h</script> is reduced,
the solution approaches the exact (red curve below)</p>
<script type="math/tex; mode=display"> h = 1</script>
<figure class="figure3" data-title=""><img alt="" src="images/h1.png" width="90%"/></figure><script type="math/tex; mode=display"> h = 0.5</script>
<figure class="figure4" data-title=""><img alt="" src="images/h0p5.png" width="90%"/></figure><script type="math/tex; mode=display"> h = 0.25</script>
<figure class="figure5" data-title=""><img alt="" src="images/h0p25.png" width="90%"/></figure><p>Unfortunately, small <script type="math/tex">h</script> means more iterations. Even more unfortunately, Euler’s method is often not stable,
meaning that the error in the approximation can quickly accumulate to such a size that the numerical solution
diverges wildly from the true solution.</p>
<p>The main value in Euler’s method is that it illustrates an important principle. Other, more reliable, methods use the
same basic idea to find numerical solutions to differential equations, but use more information about <script type="math/tex">y(t)</script> to move
from one point to the next.</p>
<h3 id="coding_the_algorit_1">Coding the algorithm</h3>
<p>The general problem is:</p>
<script type="math/tex; mode=display"> \frac{\mathrm{d}y}{\mathrm{d}t}=f(t,y). </script>
<p>and we would like to code up</p>
<script type="math/tex; mode=display"> y_{n} = y_{n-1} + hf(t_{n-1},y_{n-1}). </script>
<p>for some function <script type="math/tex">f</script> which might depend on <script type="math/tex">t</script> and <script type="math/tex">y</script>, some stepsize in <script type="math/tex">t</script> given by <script type="math/tex">h</script>, and where <script type="math/tex">y_0</script> is known.
It's very similar in many ways to the Fibonacci example. In my example above, the differential equation is</p>
<script type="math/tex; mode=display"> \frac{\mathrm{d}y}{\mathrm{d}t}=-\frac{y}{2},\quad y(0)=5. </script>
<p>So in fact my function will only depend on <script type="math/tex">y</script>. Here's my plan:</p>
<ul>
<li>Set up an function to do the job of <script type="math/tex">f(y)=-y/2</script>
</li>
<li>Choose a step-size for <script type="math/tex">h</script>: let's pick <script type="math/tex">h=0.5</script>.</li>
<li>Choose how many values of <script type="math/tex">y</script> I'm going to compute - let's say 20 - and initialise a vector for <code>y</code> using <code>np.zeros</code>.</li>
<li>Set the initial value <code>y[0]</code> = 0.</li>
<li>Write a for loop to calculate the remaining values of <code>y[n]</code>, based on the value of <code>y[n-1]</code>.</li>
</ul>
<p>Here we go:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># A function for the RHS of the ODE</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="o">-</span><span class="n">y</span><span class="o">/</span><span class="mi">2</span>

<span class="c1"># Time step</span>
<span class="n">h</span> <span class="o">=</span> <span class="mf">0.5</span>

<span class="c1"># Initialise y and set value when t = 0</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># For loop to calculate remaining values</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">):</span>
    <span class="n">y</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">h</span><span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
<p>If we want to plot <script type="math/tex">y</script> versus <script type="math/tex">t</script> we will need a vector for <script type="math/tex">t</script>. Given the timestep <script type="math/tex">h=0.5</script>, we know that this is going to be</p>
<div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
</pre></div>
<p>So now we could plot</p>
<div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</pre></div>
<figure class="figure6" data-title="Solution to the ODE problem above using Euler method"><img alt="Solution to the ODE problem above using Euler method" src="images/lecture_euler.png" width="90%"/></figure><p><em><a href="files/lecture_euler.py" target="_blank">Download the full source code for this plot</a></em></p>
<h3 class="exercise" id="exercise_3_5_harder_">Exercise 3.5 (Harder!)</h3>
<ul>
<li>Use the code above as a template (i.e. copy and paste it!) and change the problem to solve</li>
</ul>
<script type="math/tex; mode=display">\frac{\mathrm{d}y}{\mathrm{d}t}=0.5y(1-y),\quad y(0)=0.5 </script>
<p>You should need to change only two lines in the code (the function and the initial value).</p>
<ul>
<li>Write a <code>for</code> loop over the whole bit of code above to change the value of <script type="math/tex">y(0)</script> to different values between 0 and 1.
It might look something like this:</li>
</ul>
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">y0</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">):</span>
    <span class="c1"># Euler's method code as above in here</span>
    <span class="c1"># except set the initial condition with y[0] = y0</span>
</pre></div>
<p>If you plot all of the solutions then you should get something like this:</p>
<figure class="figure7" data-title="Solution to this example showing multiple plotted lines"><img alt="Solution to this example showing multiple plotted lines" src="images/lecture_euler2.png" width="70%"/></figure><p>The differential equation is a rather famous one, and is used for population modelling. The <script type="math/tex">y</script> here represents the
proportion of a population area that is filled. And the <script type="math/tex">0.5</script> in the RHS of the ODE is a parameter which determines the rate of growth/decline
(e.g. try changing it to -0.5 to see decline).</p>
<h2 id="next_time">Next time</h2>
<p>That's it for this week! We now have all the skills to import data, run algorithms on it, and produce beautiful plots
of output. We'll expand on the data analysis side of things next week, as we look at some curve fitting techniques.</p>
</section>

    </article>

        </main>

		
		<footer>
	<hr>

    <nav id="footer-nav">
        <a href="#">Voltar para o topo</a>
    </nav>

    <div id="footer-text">
        <p>Gerado usando <a target="_blank" href="https://chirun.org.uk">Chirun</a> v1.1.0, escrito pela Digital Learning Unit, School of Mathematics &amp; Statistics, Newcastle University</p>
        <p>Esta página foi gerada em: 2024-04-28</p>
        
        
        
    </div>
</footer>
		

        

        <svg
   width="180"
   height="180"
   viewBox="0 0 180 180"
   version="1.1"
   id="icon-defs"
   xml:space="preserve"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"
>
    <defs>
        <g id="cog">
            <path 
                style="fill:currentColor;fill-opacity:1;stroke:none;stroke-width:2.91107"
                d="m 97.752501,14.130132 -9.381402,13.321575 -0.875593,3.780985 0.153413,10.126218 -15.231962,2.683646 -3.320429,-9.569021 -2.115099,-3.246528 -13.372747,-9.313164 -6.817124,3.940185 1.375919,16.23265 1.756892,3.456901 6.623829,7.658625 -9.938582,11.848983 -8.693428,-5.196724 -3.712755,-1.125768 -16.226967,1.461225 -2.695014,7.397083 11.490766,11.553325 3.570636,1.518082 10.001112,1.609049 v 15.465082 l -10.001112,1.609049 -3.570636,1.51808 -11.490766,11.55333 2.695014,7.39707 16.226967,1.46124 3.712755,-1.12577 8.693428,-5.19673 9.938582,11.849 -6.623829,7.6586 -1.756892,3.4569 -1.375919,16.23267 6.817124,3.94017 13.372747,-9.31317 2.115099,-3.24651 3.320429,-9.56902 15.231962,2.68363 -0.153413,10.12623 0.875593,3.78099 9.381402,13.32157 7.749599,-1.37024 4.25858,-15.72665 -0.46624,-3.84919 -3.60472,-9.46099 13.3898,-7.73254 6.39641,7.85192 3.09872,2.33113 15.74934,4.17332 5.06027,-6.02683 -6.84557,-14.78849 -2.83716,-2.64385 -8.84125,-4.93518 5.28767,-14.532632 9.94426,1.910392 3.8777,-0.21038 14.74863,-6.925177 v -7.868995 l -14.74863,-6.925174 -3.8777,-0.210383 -9.94426,1.910392 -5.28767,-14.532629 8.84125,-4.935179 2.83716,-2.643849 6.84557,-14.788484 -5.06027,-6.026831 -15.74934,4.173298 -3.09872,2.331133 -6.39641,7.851938 -13.3898,-7.73254 3.60472,-9.460991 0.46624,-3.849211 -4.25858,-15.726624 z M 88.371099,75.44463 A 14.55537,14.55537 0 0 1 102.92647,90 14.55537,14.55537 0 0 1 88.371099,104.55537 14.55537,14.55537 0 0 1 73.815728,90 14.55537,14.55537 0 0 1 88.371099,75.44463 Z"
            />
        </g>
        <g id="pdf">
            <path
                style="fill:#ffffff;fill-opacity:1;fill-rule:nonzero;stroke:currentColor;stroke-width:5.73751;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
                d="m 115.96038,9.1011226 31.41471,31.7977544 m 0,11.232914 V 159.42386 c 0,6.35716 -5.11786,11.47502 -11.47502,11.47502 H 44.099928 c -6.35716,0 -11.475018,-5.11786 -11.475018,-11.47502 V 20.576141 c 0,-6.35716 5.117858,-11.4750184 11.475018,-11.4750184 h 71.860452 l -0.14159,20.0812814 c -0.0449,6.357008 5.11832,11.398586 11.47503,11.475018 l 20.08127,0.241455"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:4.74634;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="M 56.949794,109.50753 C 70.723931,123.86069 104.41318,45.431956 83.05466,47.805125 61.696136,50.178294 111.53269,116.62705 123.39853,100.01485 135.26439,83.402664 43.175657,95.15437 56.949794,109.50753 Z"
            />
        </g>
        <g id="slides">
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:round;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="m 90,21.25 30,137.5"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:round;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="M 90,21.25 60,158.75"
            />
            <rect
                style="fill:#ffffff;fill-opacity:1;stroke:currentColor;stroke-width:10.4525;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke markers fill"
                width="119.79137"
                height="82.273766"
                x="30.104315"
                y="36.476234"
                ry="4.7737675"
                rx="4.7737675"
            />
            <rect
                style="fill:currentColor;fill-opacity:1;stroke:currentColor;stroke-width:5.90268;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke markers fill"
                width="140"
                height="5.2262344"
                x="20"
                y="31.25"
                ry="1.6724058"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="m 90,66.25 h 50"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="m 90,76.25 h 50"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="m 90,86.25 h 50"
            />
            <path
                style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:butt;stroke-linejoin:miter;stroke-dasharray:none;stroke-opacity:1"
                d="m 90,56.25 h 50"
            />
            <path
                style="fill:currentColor;fill-opacity:1;stroke:currentColor;stroke-width:5;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke markers fill"
                d="M 80.000002,78.84906 A 20.099062,20.099062 0 0 1 67.592518,97.418172 20.099062,20.099062 0 0 1 45.688757,93.061243 20.099062,20.099062 0 0 1 41.331828,71.157482 20.099062,20.099062 0 0 1 59.90094,58.749998 V 78.84906 Z"
            />
        </g>

        <g id="notebook">
            <path
                style="fill:#ffffff;stroke:currentColor;stroke-width:4.964;stroke-linecap:butt;stroke-linejoin:round;paint-order:stroke fill markers;stroke-dasharray:none"
                d="M 34.482063,31.89923 V 16.261703 c 0,-5.41792 4.36172,-9.7796397 9.77964,-9.7796397 H 135.7383 c 5.41792,0 9.77964,4.3617197 9.77964,9.7796397 V 163.7383 c 0,5.41792 -4.36172,9.77964 -9.77964,9.77964 H 44.261703 c -5.41792,0 -9.77964,-4.36172 -9.77964,-9.77964 v -23.96224"
            />
            <circle
               style="fill:currentColor;stroke-width:9.43913;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
               cx="58.699139"
               cy="59.503937"
               r="3.8077738"
            />
            <circle
               style="fill:currentColor;stroke-width:9.43913;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
               cx="113.59385"
               cy="52.885151"
               r="4.9348516"
            />
            <path
               style="fill:currentColor;stroke-width:9.43913;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
               d="M 88.900432,54.782256 C 74.053011,55.067917 59.927013,65.025096 57.261258,76.89961 69.209289,67.830932 79.817786,64.804678 88.900432,64.855157 97.983077,64.804678 108.59157,67.830932 120.53961,76.89961 117.87385,65.025096 103.74785,55.067917 88.900432,54.782256 Z"
           
            />
            <path
               style="fill:currentColor;stroke-width:9.43913;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
               d="M 88.900432,121.58085 C 74.053011,121.29519 59.927013,111.33801 57.261258,99.46349 c 11.948031,9.06868 22.556528,12.09494 31.639174,12.04445 9.082643,0.0505 19.691138,-2.97577 31.639178,-12.04445 -2.66576,11.87452 -16.79176,21.8317 -31.639178,22.11736 z"
              
            />
            <ellipse
               style="fill:currentColor;stroke-width:9.43913;stroke-linecap:round;stroke-linejoin:round;paint-order:stroke fill markers"
               cx="63.813011"
               cy="125.96338"
               rx="6.4332962"
               ry="6.4347191"
            />
            <path
                style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
                d="m 28,40 c 2.806997,-4.320074 9.452509,-3.66881 12,0"
            />
            <path
                style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:butt;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
                d="M 34,46.266514 V 62.316215"
            
            />
            <path
             style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
             d="m 28,71.583335 c 2.806997,-4.320073 9.452509,-3.668809 12,0"
            />
            <path
             style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:butt;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
             d="M 34,77.849849 V 93.89955"
            />
            <path
             style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
             d="m 28,103.16667 c 2.806997,-4.320071 9.452509,-3.668807 12,0"
            />
            <path
             style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:butt;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
             d="m 34,109.43318 v 16.0497"
            />
            <path
             style="fill:none;fill-opacity:1;stroke:currentColor;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1;paint-order:stroke fill markers"
             d="m 28,134.75 c 2.806997,-4.32007 9.452509,-3.66881 12,0"
            />
        </g>

        <g id="fullscreen">
            <path
               style="fill:none;stroke:currentColor;stroke-width:10;stroke-dasharray:none;paint-order:stroke markers fill"
               d="M 19.402776,9.9953678 H 160.51388 c 5.2117,0 9.40741,4.1957032 9.40741,9.4074042 V 160.51388 c 0,5.2117 -4.19571,9.40741 -9.40741,9.40741 H 19.402776 c -5.211704,0 -9.4074082,-4.19571 -9.4074082,-9.40741 V 19.402772 c 0,-5.211701 4.1957042,-9.4074042 9.4074082,-9.4074042 z" />
            />
            <path
               style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
               d="M 150.95833,68.801471 V 28.958332 h -39.84314"
            />
            <path
               style="fill:none;stroke:currentColor;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1"
               d="m 28.958332,111.11519 v 39.84314 h 39.843139"
            />
        </g>
    </defs>
</svg>
    </body>
</html>
